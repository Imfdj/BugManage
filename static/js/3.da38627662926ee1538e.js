webpackJsonp([3],{"7b/G":function(t,e){},ZcHe:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("vomx"),i={name:"situation",data:function(){return{baseUrl:this.$intfcUrl,ProjectID:localStorage.getItem("Bug_ProjectID"),screen:{conductor:"全部",assigner:"全部",module:"全部",versions:"全部",priority:"全部",state:"全部"},tableData_urgency:[],tableData_newest:[],statistics:{all:0,unsolved:0,resolved:0,checking:0},loading:!0}},beforeMount:function(){this.SearchBugInfo(this.ProjectID)},mounted:function(){var t=this;s.a._events.situation&&(s.a._events.situation.length=0),s.a.$on("situation",function(e){t.ProjectID=e,t.SearchBugInfo(e)})},methods:{bugStateClick:function(t){"未修复"==t&&(this.$store.state.allBugState="未修复",this.$router.push("/bug/allBug")),"待审核"==t&&(this.$store.state.allBugState="待审核",this.$router.push("/bug/allBug")),"已解决"==t&&(this.$store.state.allBugState="已解决",this.$router.push("/bug/allBug")),"全部"==t&&(this.$store.state.allBugState="全部",this.$router.push("/bug/allBug"))},SearchBugInfo:function(t){var e=this;e.loading=!0,e.$http.get(e.baseUrl+"/static/data/SearchBugInfo.json",{params:{PriorityLevel:e.screen.priority,ProcessingPerson:e.screen.conductor,BugState:e.screen.state,ProjectVerID:"全部"==e.screen.versions?-1:e.screen.versions,keyword:e.screen.keyWord,ProjectID:t,ModuleID:"全部"==e.screen.module?-1:e.screen.module,CMaker:e.screen.assigner}}).then(function(t){e.loading=!1;var a=[],s=[];e.statistics.unsolved=0,e.statistics.resolved=0,e.statistics.checking=0,t.data.data.forEach(function(t,i){"未修复"==t.BugState?e.statistics.unsolved++:"已解决"==t.BugState?e.statistics.resolved++:"待审核"==t.BugState&&e.statistics.checking++,"高"!=t.PriorityLevel&&"紧急"!=t.PriorityLevel&&"严重"!=t.PriorityLevel||"未修复"!=t.BugState||a.push(t),s.push(t)}),e.statistics.all=t.data.data.length,e.tableData_urgency=a.splice(0,10),e.tableData_newest=s.splice(0,10)}).catch(function(t){})},titleClick:function(t,e){},stateX:function(t){return"低"==t?"priority-339900":"中"==t?"priority-999900":"高"==t?"priority-996600":"紧急"==t?"priority-cc3300":"严重"==t?"priority-ff00ff":void 0},stateO:function(t){return"未修复"==t?"state-Danger":"已解决"==t?"state-Success":"待审核"==t?"state-Warning":void 0}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px"}},[a("div",{staticClass:"bug-statistics"},[a("span",{staticStyle:{color:"rgb(56, 52, 52)"},on:{click:function(e){t.bugStateClick("全部")}}},[t._v("BUG总数："),a("span",[t._v(t._s(t.statistics.all))])]),t._v(" "),a("span",{staticStyle:{color:"#CC3300"},on:{click:function(e){t.bugStateClick("未修复")}}},[t._v("未修复BUG数："),a("span",[t._v(t._s(t.statistics.unsolved))])]),t._v(" "),a("span",{staticStyle:{color:"#FEA900"},on:{click:function(e){t.bugStateClick("待审核")}}},[t._v("待审核BUG数："),a("span",[t._v(t._s(t.statistics.checking))])]),t._v(" "),a("span",{staticStyle:{color:"#339900"},on:{click:function(e){t.bugStateClick("已解决")}}},[t._v("已解决BUG数："),a("span",[t._v(t._s(t.statistics.resolved))])])])]),t._v(" "),a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{flex:"1"}},[a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px"}},[a("div",{staticClass:"bug-statistics"},[a("div",[a("i",{staticClass:"fa fa-fire",staticStyle:{"font-size":"24px",color:"red"}}),t._v(" "),a("strong",[t._v("紧急待处理BUG")])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData_urgency}},[a("el-table-column",{attrs:{prop:"BugTitle",label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticStyle:{color:"#1077B5","font-weight":"bold"},attrs:{to:"/bugInfo/"+e.row.BugID,target:"_blank"},on:{click:function(a){t.titleClick(e.$index,"tableData_resolved")}}},[t._v("\n                                    "+t._s(e.row.BugTitle)+"\n                                ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"PriorityLevel",label:"优先级",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:t.stateX(e.row.PriorityLevel)},[t._v(t._s(e.row.PriorityLevel))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"ProcessingPerson",label:"处理人",width:"100"}})],1)],1)])],1),t._v(" "),a("div",{staticStyle:{flex:"1"}},[a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px"}},[a("div",{staticClass:"bug-statistics"},[a("div",[a("i",{staticClass:"fa fa-sun-o",staticStyle:{"font-size":"25px",color:"#07e307"}}),t._v(" "),a("strong",[t._v("最新BUG")])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"98%"},attrs:{data:t.tableData_newest}},[a("el-table-column",{attrs:{prop:"BugTitle",label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticStyle:{color:"#1077B5","font-weight":"bold"},attrs:{to:"/bugInfo/"+e.row.BugID,target:"_blank"},on:{click:function(a){t.titleClick(e.$index,"tableData_resolved")}}},[t._v("\n                                    "+t._s(e.row.BugTitle)+"\n                                ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"BugState",width:"70",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:t.stateO(e.row.BugState),staticStyle:{padding:"3px",color:"#fff"}},[t._v(t._s(e.row.BugState))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"PriorityLevel",label:"优先级",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:t.stateX(e.row.PriorityLevel)},[t._v(t._s(e.row.PriorityLevel))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"CMaker",label:"分配人",width:"100"}})],1)],1)])],1)])],1)},staticRenderFns:[]};var o=a("C7Lr")(i,l,!1,function(t){a("7b/G")},"data-v-424968dc",null);e.default=o.exports}});
//# sourceMappingURL=3.da38627662926ee1538e.js.map