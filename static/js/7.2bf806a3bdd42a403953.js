webpackJsonp([7],{YURA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("VPXU"),s=a("vomx"),i={name:"my-dispose",components:{BugTable:l.a},data:function(){return{baseUrl:this.$intfcUrl,ProjectID:localStorage.getItem("Bug_ProjectID"),LoginerEmployeeID:JSON.parse(localStorage.getItem("Bug_LoginUser")).EmployeeID,screen:{keyWord:"",priority:"全部",state:"全部"},tableData_resolved:[],tableData_resolved_limit:[],tableData_unsolved:[],tableData_unsolved_limit:[],loading:!1,page_index:1,page_size:10,page_total:1,page_index_resolved:1,page_size_resolved:10,page_total_resolved:1}},beforeMount:function(){var e=this;e.onSubmit(),s.a._events.myDispose&&(s.a._events.myDispose.length=0),s.a.$on("myDispose",function(t){e.ProjectID=t,e.SearchBugInfo(t)})},methods:{setPage:function(e){this.page_index=e,this.getTableData_unsolved_limit()},setSize:function(e){this.page_size=e,this.page_total=Math.ceil(this.tableData_unsolved.length/this.page_size),this.page_index=1,this.getTableData_unsolved_limit()},getTableData_unsolved_limit:function(){this.tableData_unsolved_limit=this.tableData_unsolved.slice((this.page_index-1)*this.page_size,this.page_index*this.page_size)},setPage_resolved:function(e){this.page_index_resolved=e,this.getTableData_resolved_limit()},setSize_resolved:function(e){this.page_size_resolved=e,this.page_total_resolved=Math.ceil(this.tableData_resolved.length/this.page_size_resolved),this.page_index_resolved=1,this.getTableData_resolved_limit()},getTableData_resolved_limit:function(){this.tableData_resolved_limit=this.tableData_resolved.slice((this.page_index_resolved-1)*this.page_size_resolved,this.page_index_resolved*this.page_size_resolved)},onSubmit:function(){this.SearchBugInfo(this.ProjectID)},SearchBugInfo:function(e){var t=this;t.page_index=1,t.loading=!0,t.$http.get(t.baseUrl+"/static/data/SearchBugInfo.json",{params:{PriorityLevel:t.screen.priority,ProcessingPerson:t.LoginerEmployeeID,BugState:t.screen.state,ProjectVerID:-1,keyword:null===t.screen.keyWord?"":t.screen.keyWord,ProjectID:e,ModuleID:-1,CMaker:"全部"}}).then(function(e){t.loading=!1;var a=[],l=[];e.data.data.forEach(function(e,t){"已解决"==e.BugState?a.push(e):l.push(e)}),t.tableData_resolved=a,t.tableData_unsolved=l,t.getTableData_unsolved_limit(),t.page_total=Math.ceil(t.tableData_unsolved.length/t.page_size),t.getTableData_resolved_limit(),t.page_total_resolved=Math.ceil(t.tableData_resolved.length/t.page_size_resolved)}).catch(function(e){})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"background-color":"rgb(245, 245, 245)"}},[a("div",{staticClass:"head",staticStyle:{padding:"10px 20px"}},[a("el-card",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.screen}},[a("el-form-item",{attrs:{label:"优先级"}},[a("el-select",{attrs:{size:"small"},model:{value:e.screen.priority,callback:function(t){e.$set(e.screen,"priority",t)},expression:"screen.priority"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"低",value:"低"}}),e._v(" "),a("el-option",{attrs:{label:"中",value:"中"}}),e._v(" "),a("el-option",{attrs:{label:"高",value:"高"}}),e._v(" "),a("el-option",{attrs:{label:"紧急",value:"紧急"}}),e._v(" "),a("el-option",{attrs:{label:"严重",value:"严重"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"活动区域",size:"small"},model:{value:e.screen.state,callback:function(t){e.$set(e.screen,"state",t)},expression:"screen.state"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"未修复",value:"未修复"}}),e._v(" "),a("el-option",{attrs:{label:"待审核",value:"待审核"}}),e._v(" "),a("el-option",{attrs:{label:"已解决",value:"已解决"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{staticStyle:{width:"215px"},attrs:{size:"small"},model:{value:e.screen.keyWord,callback:function(t){e.$set(e.screen,"keyWord",t)},expression:"screen.keyWord"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("搜索")])],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{padding:"10px 20px"}},[a("el-card",[a("div",[a("i",{staticClass:"el-icon-error ",staticStyle:{color:"#F56C6C","font-size":"25px","margin-right":"10px"}}),a("span",{staticStyle:{"font-size":"25px","line-height":"25px"}},[e._v("未解决的Bug")])]),e._v(" "),a("div",[a("BugTable",{attrs:{tableData_limit:e.tableData_unsolved_limit,loading:e.loading}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.page_total>1||e.page_size>10,expression:"page_total > 1 || page_size > 10"}],staticStyle:{margin:"15px"}},[a("el-pagination",{attrs:{"current-page":e.page_index,"page-size":e.page_size,"page-sizes":[10,20,30,50],layout:"sizes, prev, pager, next, jumper","page-count":e.page_total},on:{"current-change":e.setPage,"size-change":e.setSize}})],1)])],1),e._v(" "),a("div",{staticStyle:{padding:"10px 20px"}},[a("el-card",[a("div",[a("i",{staticClass:"el-icon-success ",staticStyle:{color:"#67C23A","font-size":"25px","margin-right":"10px"}}),a("span",{staticStyle:{"font-size":"25px","line-height":"25px"}},[e._v("已解决的Bug")])]),e._v(" "),a("div",[a("BugTable",{attrs:{tableData_limit:e.tableData_resolved_limit,loading:e.loading}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.page_total_resolved>1||e.page_size_resolved>10,expression:"page_total_resolved > 1 || page_size_resolved > 10"}],staticStyle:{margin:"15px"}},[a("el-pagination",{attrs:{"current-page":e.page_index_resolved,"page-size":e.page_size_resolved,"page-sizes":[10,20,30,50],layout:"sizes, prev, pager, next, jumper","page-count":e.page_total_resolved},on:{"current-change":e.setPage_resolved,"size-change":e.setSize_resolved}})],1)])],1)])},staticRenderFns:[]};var r=a("C7Lr")(i,o,!1,function(e){a("zbvI")},"data-v-de510136",null);t.default=r.exports},zbvI:function(e,t){}});
//# sourceMappingURL=7.2bf806a3bdd42a403953.js.map