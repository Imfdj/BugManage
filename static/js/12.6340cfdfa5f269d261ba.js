webpackJsonp([12],{U7mj:function(e,t){},gGMO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("vomx"),o={name:"all-bug",components:{BugTable:a("VPXU").a},data:function(){return{baseUrl:this.$intfcUrl,ProjectID:localStorage.getItem("Bug_ProjectID"),TeamID:localStorage.getItem("Bug_TeamID"),ProjectVer_options:null,Module_options:null,ProcessingPerson_options:null,screen:{conductor:"全部",assigner:"全部",module:"全部",versions:"全部",priority:"全部",state:"全部"},tableData:[],tableData_limit:[],tableData_loading:!1,page_index:1,page_size:10,page_total:1}},beforeMount:function(){var e=this;e.GetProjectVerson(e.ProjectID),e.GetProjectModule(e.ProjectID),e.GetMember(e.ProjectID,e.TeamID),this.screen.state=this.$store.state.allBugState,"全部"!=this.$store.state.allBugState&&(this.$store.state.allBugState="全部"),e.onSubmit(),s.a._events.allBug&&(s.a._events.allBug.length=0),s.a.$on("allBug",function(t){e.ProjectID=t,e.SearchBugInfo(t),e.GetProjectVerson(t),e.GetProjectModule(t),e.GetMember(t,localStorage.getItem("Bug_TeamID"))})},methods:{setPage:function(e){this.page_index=e,this.page_start=(this.page_index-1)*this.page_size,this.page_end=this.page_index*this.page_size,this.getTableData_limit()},setSize:function(e){this.page_size=e,this.page_total=Math.ceil(this.tableData.length/this.page_size),this.page_index=1,this.getTableData_limit()},getTableData_limit:function(){this.tableData_limit=this.tableData.slice((this.page_index-1)*this.page_size,this.page_index*this.page_size)},titleClick:function(e){},onSubmit:function(){this.SearchBugInfo(this.ProjectID)},SearchBugInfo:function(e){var t=this;t.page_index=1,t.tableData_loading=!0,t.$http.get(t.baseUrl+"/static/data/SearchBugInfo.json",{params:{PriorityLevel:t.screen.priority,ProcessingPerson:t.screen.conductor,BugState:t.screen.state,ProjectVerID:"全部"==t.screen.versions?-1:t.screen.versions,keyword:null===t.screen.keyWord?"":t.screen.keyWord,ProjectID:e,ModuleID:"全部"==t.screen.module?-1:t.screen.module,CMaker:t.screen.assigner}}).then(function(e){t.tableData_loading=!1,t.tableData=e.data.data,t.getTableData_limit(),t.page_total=Math.ceil(t.tableData.length/t.page_size),t.$store.state.bugList=e.data.data}).catch(function(e){})},GetProjectVerson:function(e){var t=this;t.$http.get(t.baseUrl+"/Services/BugAssignServices.ashx?",{params:{method:"GetProjectVerson",ProjectID:e}}).then(function(e){e.data.code>0?(e.data.data.unshift({ProjectID:0,ProjectVerID:-1,ProjectVerNO:"全部"}),t.ProjectVer_options=e.data.data,t.$store.state.ProjectVer_options=e.data.data):t.ProjectVer_options=[]}).catch(function(e){})},GetProjectModule:function(e){var t=this;t.$http.get(t.baseUrl+"/Services/BugAssignServices.ashx?",{params:{method:"GetProjectModule",ProjectID:e}}).then(function(e){e.data.code>0?(e.data.data.unshift({ProcessingPerson:"全部",ModuleID:-1,ProjectID:0,ModuleName:"全部"}),t.Module_options=e.data.data,t.$store.state.Module_options=e.data.data):t.Module_options=[]}).catch(function(e){})},GetMember:function(e,t){var a=this;a.$http.get(a.baseUrl+"/Services/BugManageServices.ashx?",{params:{method:"GetMember",TeamID:t,ProjectID:e}}).then(function(e){e.data.code>0?(e.data.data.unshift({EmployeeAccount1:null,EmployeeNickName:"全部",PersonDetailID:null,ProjectID:0,EmployeeAccount:"全部",MemberID:0,EmployeeID:"全部"}),a.ProcessingPerson_options=e.data.data,a.$store.state.ProcessingPerson_options=e.data.data):a.ProcessingPerson_options=[]}).catch(function(e){})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"background-color":"rgb(245, 245, 245)"}},[a("div",{staticClass:"head",staticStyle:{padding:"10px 20px"}},[a("el-card",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.screen}},[a("el-form-item",{attrs:{label:"优先级"}},[a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:"活动区域",size:"small"},model:{value:e.screen.priority,callback:function(t){e.$set(e.screen,"priority",t)},expression:"screen.priority"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"低",value:"低"}}),e._v(" "),a("el-option",{attrs:{label:"中",value:"中"}}),e._v(" "),a("el-option",{attrs:{label:"高",value:"高"}}),e._v(" "),a("el-option",{attrs:{label:"紧急",value:"紧急"}}),e._v(" "),a("el-option",{attrs:{label:"严重",value:"严重"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分配人"}},[a("el-select",{staticStyle:{width:"115px"},attrs:{placeholder:"活动区域",size:"small"},model:{value:e.screen.assigner,callback:function(t){e.$set(e.screen,"assigner",t)},expression:"screen.assigner"}},e._l(e.ProcessingPerson_options,function(e){return a("el-option",{key:e.MemberID,attrs:{label:e.EmployeeNickName,value:e.EmployeeID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"模块"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"活动区域",size:"small"},model:{value:e.screen.module,callback:function(t){e.$set(e.screen,"module",t)},expression:"screen.module"}},e._l(e.Module_options,function(e){return a("el-option",{key:e.ModuleID,attrs:{label:e.ModuleName,value:e.ModuleID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"版本"}},[a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"活动区域",size:"small"},model:{value:e.screen.versions,callback:function(t){e.$set(e.screen,"versions",t)},expression:"screen.versions"}},e._l(e.ProjectVer_options,function(e){return a("el-option",{key:e.ProjectVerID,attrs:{label:e.ProjectVerNO,value:e.ProjectVerID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:"活动区域",size:"small"},model:{value:e.screen.state,callback:function(t){e.$set(e.screen,"state",t)},expression:"screen.state"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"未修复",value:"未修复"}}),e._v(" "),a("el-option",{attrs:{label:"待审核",value:"待审核"}}),e._v(" "),a("el-option",{attrs:{label:"已解决",value:"已解决"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"处理人"}},[a("el-select",{staticStyle:{width:"115px"},attrs:{placeholder:"活动区域",size:"small"},model:{value:e.screen.conductor,callback:function(t){e.$set(e.screen,"conductor",t)},expression:"screen.conductor"}},e._l(e.ProcessingPerson_options,function(e){return a("el-option",{key:e.MemberID,attrs:{label:e.EmployeeNickName,value:e.EmployeeID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.screen.keyWord,callback:function(t){e.$set(e.screen,"keyWord",t)},expression:"screen.keyWord"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("搜索")])],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{padding:"10px 20px"}},[a("el-card",[a("div",[a("BugTable",{attrs:{tableData_limit:e.tableData_limit,loading:e.tableData_loading}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.page_total>1||e.page_size>10,expression:"page_total > 1 || page_size > 10"}],staticStyle:{margin:"15px"}},[a("el-pagination",{attrs:{"current-page":e.page_index,"page-size":e.page_size,"page-sizes":[10,20,30,50],layout:"sizes, prev, pager, next, jumper","page-count":e.page_total},on:{"current-change":e.setPage,"size-change":e.setSize}})],1)])],1)])},staticRenderFns:[]};var r=a("C7Lr")(o,l,!1,function(e){a("U7mj")},"data-v-2d9a22d1",null);t.default=r.exports}});
//# sourceMappingURL=12.6340cfdfa5f269d261ba.js.map