webpackJsonp([10],{Ne0A:function(e,t){},eerB:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("3cXf"),a=o.n(s),r={name:"index",data:function(){return{baseUrl:this.$intfcUrl,EmployeeNickName:"",isCollapse:!1,title:"",loginForm:{UserName:null},checkedPwd:!1}},computed:{dialogCreatBugVisible:{get:function(){return this.$store.state.isRegister},set:function(){}}},beforeMount:function(){var e=JSON.parse(localStorage.getItem("Bug_LoginUser"));e&&(this.loginForm.UserName=e.EmployeeAccount,this.loginForm.Password=e.EmployeePassword,this.checkedPwd=e.checkedPwd,this.EmployeeNickName=e.EmployeeNickName)},methods:{backPage:function(){this.isCollapse=!this.isCollapse},handleOpen:function(e,t){},handleClose:function(e,t){},handleSelect:function(e,t){},handleCommand:function(e){"mysettings"==e&&this.$router.push("/"+e),"myTeam"==e&&this.$router.push("/myteam"),"projectList"==e&&this.$router.push("/"+e),"bugList"==e&&this.$router.push("/"+e),"quit"==e&&(sessionStorage.removeItem("EmployeeInfo"),localStorage.removeItem("EmployeeInfo"),localStorage.removeItem("Bug_ProjectID"),this.$router.push({path:"/login"})),"companyInfo"==e&&this.$router.push({path:"/companyInfo"})},gotoKnowledge:function(){this.$router.push("/knowledge")},submitForm:function(e){var t=this;t.$refs[e].validate(function(e){e&&t.$http.get(t.baseUrl+"/Services/BugManageServices.ashx?method=Login",{params:{UserName:t.loginForm.UserName,Password:t.loginForm.Password}}).then(function(e){if(e.data.EmployeeInfo){if(e.data.EmployeeInfo.CompanyCode){t.$store.commit("isRegisterChange",!1);var o=t.$store.state.response_configs;o.forEach(function(e,s){e.params.method&&"GetBugForID"===e.params.method&&window.location.reload(!0),s===o.length-1&&t.$store.commit("response_configClear")});var s=e.data.EmployeeInfo;sessionStorage.setItem("EmployeeInfo",a()(e.data.EmployeeInfo)),localStorage.setItem("EmployeeInfo",a()(e.data.EmployeeInfo)),t.checkedPwd?(s.EmployeePassword=t.loginForm.Password,s.checkedPwd=!0):(s.EmployeePassword=null,s.checkedPwd=!1),localStorage.setItem("Bug_LoginUser",a()(s))}}else t.$message({message:"帐号或是密码错误",type:"error"})}).catch(function(e){t.$message({message:"服务器繁忙，请稍候再试",type:"error"})})})},dialogCreatBugVisibleClose:function(){this.$store.commit("isRegisterChange",!1)}},watch:{$route:function(e,t){e.meta.title&&(this.title=e.meta.title)}}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{display:"flex"}},[o("div",{staticClass:"router-view-menu"}),e._v(" "),o("div",{staticClass:"router-view-content",staticStyle:{flex:"1"}},[o("div",{staticClass:"hearder"},[o("el-row",{staticClass:"row-bg",staticStyle:{"padding-left":"15px"},attrs:{type:"flex",justify:"space-between"}},[o("el-col",{attrs:{span:6}}),e._v(" "),o("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[o("el-dropdown",{staticStyle:{"padding-right":"15px"},attrs:{trigger:"click"},on:{command:e.handleCommand}},[o("span",{staticClass:"el-dropdown-link"},[e._v("\n                             项目"),o("i",{staticClass:"el-icon-arrow-down el-icon-caret-bottom"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"projectList"}},[e._v("项目中心")])],1)],1),e._v(" "),o("el-dropdown",{staticStyle:{"padding-right":"15px"},attrs:{trigger:"click"},on:{command:e.handleCommand}},[o("span",{staticClass:"el-dropdown-link"},[e._v("\n                             "+e._s(e.EmployeeNickName)),o("i",{staticClass:"el-icon-arrow-down el-icon-caret-bottom"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"mysettings"}},[e._v("个人设置")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"myTeam"}},[e._v("我的团队")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"companyInfo"}},[e._v("企业信息")]),e._v(" "),o("el-dropdown-item",{attrs:{command:"quit"}},[o("span",{staticStyle:{color:"#F56C6C"}},[e._v("退出")])])],1)],1)],1)],1)],1),e._v(" "),o("router-view")],1),e._v(" "),o("div",[o("el-dialog",{attrs:{title:"系统登录",visible:e.dialogCreatBugVisible,width:"34%"},on:{"update:visible":function(t){e.dialogCreatBugVisible=t},close:e.dialogCreatBugVisibleClose}},[o("div",{staticClass:"announcement-content"},[o("el-form",{ref:"loginFormEl",staticClass:"demo-ruleForm",staticStyle:{width:"370px"},attrs:{model:e.loginForm,"status-icon":"","label-width":"70px"}},[o("el-form-item",{attrs:{label:"帐号",prop:"UserName",rules:[{required:!0,message:"请输入帐号",trigger:"blur"}]}},[o("el-input",{attrs:{type:"text","auto-complete":"off"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm("loginFormEl")}},model:{value:e.loginForm.UserName,callback:function(t){e.$set(e.loginForm,"UserName",t)},expression:"loginForm.UserName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"Password",rules:[{required:!0,message:"请输入密码",trigger:"blur"}]}},[o("el-input",{attrs:{type:"password","auto-complete":"off"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm("loginFormEl")}},model:{value:e.loginForm.Password,callback:function(t){e.$set(e.loginForm,"Password",t)},expression:"loginForm.Password"}}),e._v(" "),o("el-checkbox",{model:{value:e.checkedPwd,callback:function(t){e.checkedPwd=t},expression:"checkedPwd"}},[e._v("记住密码")])],1),e._v(" "),o("el-form-item",[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("loginFormEl")}}},[e._v("登录")])],1)],1)],1)])],1)])},staticRenderFns:[]};var i=o("C7Lr")(r,n,!1,function(e){o("Ne0A")},"data-v-944caad6",null);t.default=i.exports}});
//# sourceMappingURL=10.c589179cb9d2e71d6840.js.map