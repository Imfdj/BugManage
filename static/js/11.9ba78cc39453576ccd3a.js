webpackJsonp([11],{"39u1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("vomx"),l={name:"my-submit",components:{BugTable:a("VPXU").a},data:function(){return{baseUrl:this.$intfcUrl,ProjectID:localStorage.getItem("Bug_ProjectID"),LoginerEmployeeID:JSON.parse(localStorage.getItem("Bug_LoginUser")).EmployeeID,screen:{keyWord:"",priority:"全部",conductor:"全部",state:"全部"},tableData:[],tableData_limit:[],loading:!1,page_index:1,page_size:10,page_total:1,ProcessingPerson_options:null}},beforeMount:function(){var e=this;e.onSubmit(),i.a._events.mySubmit&&(i.a._events.mySubmit.length=0),i.a.$on("mySubmit",function(t){e.ProjectID=t,e.SearchBugInfo(t),e.GetMember(t,localStorage.getItem("Bug_TeamID"))})},methods:{setPage:function(e){this.page_index=e,this.page_start=(this.page_index-1)*this.page_size,this.page_end=this.page_index*this.page_size,this.getTableData_limit()},setSize:function(e){this.page_size=e,this.page_total=Math.ceil(this.tableData.length/this.page_size),this.page_index=1,this.getTableData_limit()},getTableData_limit:function(){this.tableData_limit=this.tableData.slice((this.page_index-1)*this.page_size,this.page_index*this.page_size)},onSubmit:function(){this.SearchBugInfo(this.ProjectID),this.GetMember(this.ProjectID,localStorage.getItem("Bug_TeamID"))},SearchBugInfo:function(e){var t=this;t.page_index=1,t.loading=!0,t.$http.get(t.baseUrl+"/static/data/SearchBugInfo.json",{params:{PriorityLevel:t.screen.priority,ProcessingPerson:t.screen.conductor,BugState:t.screen.state,ProjectVerID:-1,keyword:null===t.screen.keyWord?"":t.screen.keyWord,ProjectID:e,ModuleID:-1,CMaker:t.LoginerEmployeeID}}).then(function(e){t.loading=!1,t.tableData=e.data.data,t.getTableData_limit(),t.page_total=Math.ceil(t.tableData.length/t.page_size)}).catch(function(e){})},GetMember:function(e,t){var a=this;a.$http.get(a.baseUrl+"/Services/BugManageServices.ashx?",{params:{method:"GetMember",TeamID:t,ProjectID:e}}).then(function(e){e.data.code>0?(e.data.data.unshift({EmployeeAccount1:null,EmployeeNickName:"全部",PersonDetailID:null,ProjectID:0,EmployeeAccount:"全部",MemberID:0,EmployeeID:"全部"}),a.ProcessingPerson_options=e.data.data):a.ProcessingPerson_options=[]}).catch(function(e){})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"background-color":"rgb(245, 245, 245)"}},[a("div",{staticClass:"head",staticStyle:{padding:"10px 20px"}},[a("el-card",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.screen}},[a("el-form-item",{attrs:{label:"优先级"}},[a("el-select",{attrs:{placeholder:"活动区域",size:"small"},model:{value:e.screen.priority,callback:function(t){e.$set(e.screen,"priority",t)},expression:"screen.priority"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"低",value:"低"}}),e._v(" "),a("el-option",{attrs:{label:"中",value:"中"}}),e._v(" "),a("el-option",{attrs:{label:"高",value:"高"}}),e._v(" "),a("el-option",{attrs:{label:"紧急",value:"紧急"}}),e._v(" "),a("el-option",{attrs:{label:"严重",value:"严重"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"活动区域",size:"small"},model:{value:e.screen.state,callback:function(t){e.$set(e.screen,"state",t)},expression:"screen.state"}},[a("el-option",{attrs:{label:"全部",value:"全部"}}),e._v(" "),a("el-option",{attrs:{label:"未修复",value:"未修复"}}),e._v(" "),a("el-option",{attrs:{label:"待审核",value:"待审核"}}),e._v(" "),a("el-option",{attrs:{label:"已解决",value:"已解决"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"处理人"}},[a("el-select",{attrs:{size:"small"},model:{value:e.screen.conductor,callback:function(t){e.$set(e.screen,"conductor",t)},expression:"screen.conductor"}},e._l(e.ProcessingPerson_options,function(e){return a("el-option",{key:e.MemberID,attrs:{label:e.EmployeeNickName,value:e.EmployeeID}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{staticStyle:{width:"215px"},attrs:{size:"small"},model:{value:e.screen.keyWord,callback:function(t){e.$set(e.screen,"keyWord",t)},expression:"screen.keyWord"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSubmit}},[e._v("搜索")])],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{padding:"10px 20px"}},[a("el-card",[a("div",[a("BugTable",{attrs:{tableData_limit:e.tableData_limit,loading:e.loading}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.page_total>1||e.page_size>10,expression:"page_total > 1 || page_size > 10"}],staticStyle:{margin:"15px"}},[a("el-pagination",{attrs:{"current-page":e.page_index,"page-size":e.page_size,"page-sizes":[10,20,30,50],layout:"sizes, prev, pager, next, jumper","page-count":e.page_total},on:{"current-change":e.setPage,"size-change":e.setSize}})],1)])],1)])},staticRenderFns:[]};var o=a("C7Lr")(l,s,!1,function(e){a("Qmy4")},"data-v-5abc1498",null);t.default=o.exports},Qmy4:function(e,t){}});
//# sourceMappingURL=11.9ba78cc39453576ccd3a.js.map