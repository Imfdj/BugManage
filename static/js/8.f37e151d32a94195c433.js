webpackJsonp([8],{"6kg8":function(e,s){},yh3i:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=t("3cXf"),a=t.n(i),o={name:"user-settings",data:function(){return{baseUrl:this.$intfcUrl,user_settings_parmas:JSON.parse(sessionStorage.getItem("EmployeeInfo")),user_settings_parmas_edit:{},isShow1:!1,isShow2:!1}},mounted:function(){this.user_settings_parmas_edit=JSON.parse(a()(this.user_settings_parmas))},methods:{EditClick:function(e,s){var t=this;this.$refs.user_settings_parmas.validate(function(i){if(!i)return!1;t.ModifyPersonInfo(e,s)})},submitForm:function(e){var s=this;this.$refs[e].validate(function(e){if(!e)return!1;s.ModifyPersonInfo()})},ModifyPersonInfo:function(e,s){var t=this;e?t.$http.post(t.baseUrl+"/Services/BugManageServices.ashx",{method:"ModifyPersonInfo",EmployeeID:t.user_settings_parmas.EmployeeID,NickName:3==s?e:"",newpwd:2==s?e:"",Account:1==s?e:"",mType:s}).then(function(e){e.data.code>0?(1==s?t.isShow1=!1:3==s&&(t.isShow2=!1),t.$message({message:"修改成功,请重新登录",type:"success"}),setTimeout(function(){sessionStorage.removeItem("EmployeeInfo"),t.$router.push("/login")},1e3)):t.$message({message:"修改失败，请重试",type:"error"})}).catch(function(e){t.$message({message:"修改失败，请重试",type:"error"})}):t.$message({message:"不能为空",type:"error"})}}},n={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticStyle:{padding:"30px 10px 10px 10px"}},[t("el-card",[t("div",{staticStyle:{height:"40px","font-weight":"600"}},[e._v("个人信息")]),e._v(" "),t("el-form",{ref:"user_settings_parmas",staticClass:"demo-ruleForm",staticStyle:{width:"470px"},attrs:{model:e.user_settings_parmas,"status-icon":"","label-width":"100px"}},[t("el-form-item",{attrs:{label:"帐号：",prop:"EmployeeAccount"}},[t("div",[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow1,expression:"!isShow1"}],staticClass:"input-s",domProps:{textContent:e._s(e.user_settings_parmas.EmployeeAccount)}}),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isShow1,expression:"isShow1"}],staticStyle:{"margin-left":"10px",padding:"10px"},attrs:{icon:"el-icon-edit",type:"primary",circle:""},on:{click:function(s){e.isShow1=!0}}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow1,expression:"isShow1"}]},[t("el-input",{staticStyle:{width:"200px"},attrs:{autofocus:!0},model:{value:e.user_settings_parmas.EmployeeAccount,callback:function(s){e.$set(e.user_settings_parmas,"EmployeeAccount",s)},expression:"user_settings_parmas.EmployeeAccount"}}),e._v(" "),t("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(s){e.EditClick(e.user_settings_parmas.EmployeeAccount,1)}}}),e._v(" "),t("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(s){e.isShow1=!1}}})],1)],1)]),e._v(" "),t("el-form-item",{attrs:{label:"昵称：",prop:"EmployeeNickName"}},[t("div",[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isShow2,expression:"!isShow2"}],staticClass:"input-s",domProps:{textContent:e._s(e.user_settings_parmas_edit.EmployeeNickName)}}),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isShow2,expression:"!isShow2"}],staticStyle:{"margin-left":"10px",padding:"10px"},attrs:{icon:"el-icon-edit",type:"primary",circle:""},on:{click:function(s){e.isShow2=!0}}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow2,expression:"isShow2"}]},[t("el-input",{staticStyle:{width:"200px"},attrs:{autofocus:!0},model:{value:e.user_settings_parmas.EmployeeNickName,callback:function(s){e.$set(e.user_settings_parmas,"EmployeeNickName",s)},expression:"user_settings_parmas.EmployeeNickName"}}),e._v(" "),t("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(s){e.EditClick(e.user_settings_parmas.EmployeeNickName,3)}}}),e._v(" "),t("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(s){e.isShow2=!1}}})],1)],1)]),e._v(" "),t("el-form-item",{attrs:{label:"修改密码：",prop:"newpwd"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{type:"password","auto-complete":"off",size:"small",s:""},model:{value:e.user_settings_parmas.newpwd,callback:function(s){e.$set(e.user_settings_parmas,"newpwd",s)},expression:"user_settings_parmas.newpwd"}}),e._v(" "),t("el-button",{attrs:{type:"primary",disabled:!e.user_settings_parmas.newpwd,size:"small"},on:{click:function(s){e.EditClick(e.user_settings_parmas.newpwd,2)}}},[e._v("提交\n                ")])],1)],1)],1)],1)},staticRenderFns:[]};var r=t("C7Lr")(o,n,!1,function(e){t("6kg8")},"data-v-9a64e2f0",null);s.default=r.exports}});
//# sourceMappingURL=8.f37e151d32a94195c433.js.map